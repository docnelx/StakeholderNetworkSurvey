BEFORE_EN_No_Interaction As screen:
    BackgroundImage: =
    Fill: =RGBA(237, 237, 237, 1)
    OnHidden: |-
        =Patch(colTimeRecorder, Last(colTimeRecorder), {End: Now()});
    OnVisible: |-
        =Set(SelectedLevel,"No Interaction");
        Set(SelectedPhase,"Before");
        Set(_currentPage,"BEFORE_EN_No_Interaction");
        Set(_popup,false);Collect(colTimeRecorder,{Page: Self.Name,Start:Now(),End: ""});

    Rectangle5_25 As rectangle:
        Fill: =RGBA(255, 255, 255, 0.9)
        Height: =620
        Width: =1366
        Y: =82
        ZIndex: =1

    Rectangle5_50 As rectangle:
        Fill: =RGBA(237, 237, 237, 1)
        Height: =86
        Width: =1366
        Y: =681
        ZIndex: =2

    drpPhase_9 As dropdown:
        Height: =38
        Items: =["Before","Current"]
        Visible: =false
        Width: =77
        X: =1288
        Y: =71
        ZIndex: =7

    Image4_20 As image:
        Height: =50
        Image: =logo
        OnSelect: =Navigate(Welcome_EN,ScreenTransition.Fade)
        Width: =175
        X: =1177
        Y: =21
        ZIndex: =8

    Networking_7 As gallery.variableTemplateHeightGallery:
        BorderColor: =RGBA(0, 0, 0, 0)
        DelayItemLoading: =true
        Height: =570
        Items: |+
            =Filter(
            
            Filter(
            
            Sort(
                Ungroup(Table({MyTables: Filter(PartnersList,Not(ShortName in SelectedItems.ShortName))},
            
            {MyTables:Filter(PartnersList, ShortName in Filter(SelectedItems,GalleryName =SelectedLevel).ShortName)}), "MyTables"),ShortName,SortOrder.Ascending)
            ,ShortName<>myOrganization),Not(IsBlank(ShortName)))
            
            
            
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        ShowScrollbar: =false
        TemplateFill: |-
            =
            If(ThisItem.IsSelected,  RGBA(0, 0, 0, .7), RGBA(231, 231, 231, 1))
            //If(ThisItem.IsSelected,   RGBA(175, 224, 40, .5), RGBA(231, 231, 231, 1))
        TemplateSize: =102
        Width: =1001
        X: =350
        Y: =89
        ZIndex: =9

        Title3_44 As label:
            AutoHeight: =true
            Color: =If(ThisItem.IsSelected,Color.AntiqueWhite,RGBA(50, 49, 48, 1))
            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
            Height: =61
            OnSelect: |-
                =
                Collect(SelectedItems, [{Organization: myOrganization,Phase:SelectedPhase, ShortName:ThisItem.ShortName,GalleryName:SelectedLevel, Concat:SelectedLevel&ThisItem.ShortName}])
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =13
            Strikethrough: =If(IsEmpty(Filter(SelectedItems, ShortName = ThisItem.ShortName,Not(GalleryName = SelectedLevel))), false, true)
            Text: =ThisItem.LongName & Char(13) &Char(13)
            VerticalAlign: =VerticalAlign.Top
            Width: =466
            X: =53
            Y: =11
            ZIndex: =4

        CheckboxCanvas2_46 As Checkbox:
            BasePaletteColor: =
            DisplayMode: =DisplayMode.Edit
            FontSize: =0
            Height: =52
            Label: =" "
            OnCheck: |-
                =
                Collect(SelectedItems, [{Organization: myOrganization,Phase:SelectedPhase, ShortName:ThisItem.ShortName,GalleryName:SelectedLevel, Concat:SelectedLevel&ThisItem.ShortName}])
            OnSelect: =Select(Parent)
            OnUncheck: =RemoveIf(SelectedItems, ShortName = ThisItem.ShortName)
            Visible: =If(IsEmpty(Filter(SelectedItems, ShortName = ThisItem.ShortName)), true, false)
            Width: =49
            X: =4
            Y: =0
            ZIndex: =5

        Icon1_74 As icon.CheckBadge:
            BorderColor: =RGBA(54, 176, 75, 1)
            Color: =RGBA(152, 208, 70, 1)
            Height: =35
            Icon: =Icon.CheckBadge
            OnSelect: =RemoveIf(SelectedItems, ShortName = ThisItem.ShortName)
            Visible: |-
                =false
                //If(IsEmpty(Filter(SelectedItems, ShortName = ThisItem.ShortName,GalleryName=SelectedLevel)), false, true)
            Width: =35
            X: =937
            Y: =8
            ZIndex: =6

        Checkbox1_3 As checkbox:
            BorderColor: =RGBA(0, 0, 0, 0)
            Default: =If(CountRows(Filter(SelectedItems,ShortName=ThisItem.ShortName))>0,true,false)
            Height: =52
            OnCheck: |-
                =
                Collect(SelectedItems, [{Organization: myOrganization,Phase:SelectedPhase, ShortName:ThisItem.ShortName,GalleryName:SelectedLevel, Concat:SelectedLevel&ThisItem.ShortName}])
            OnUncheck: =RemoveIf(SelectedItems, ShortName = ThisItem.ShortName)
            Text: =""
            Visible: |-
                =true
                //If(IsEmpty(Filter(SelectedItems, ShortName = ThisItem.ShortName)), true, false)
            Width: =38
            X: =4
            ZIndex: =7

        Title3_57 As label:
            Color: =If(ThisItem.IsSelected,Color.AntiqueWhite,RGBA(50, 49, 48, 1))
            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
            Height: =34
            OnSelect: |-
                =
                Collect(SelectedItems, [{Organization: myOrganization,Phase:SelectedPhase, ShortName:ThisItem.ShortName,GalleryName:SelectedLevel, Concat:SelectedLevel&ThisItem.ShortName}])
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =13
            Strikethrough: =If(IsEmpty(Filter(SelectedItems, ShortName = ThisItem.ShortName,Not(GalleryName = SelectedLevel))), false, true)
            Text: =ThisItem.ShortName & Char(13) &Char(13)
            VerticalAlign: =VerticalAlign.Top
            Width: =128
            X: =520
            Y: =10
            ZIndex: =8

    Arrow2_8 As arrow:
        Fill: =RGBA(184, 0, 0, 1)
        OnSelect: =Navigate(BEFORE_EN_Collaboration,ScreenTransition.Fade)
        X: =1301
        Y: =703
        ZIndex: =18

    Arrow1_9 As arrow.backArrow:
        Fill: =RGBA(184, 0, 0, 1)
        OnSelect: =Navigate(Headsups_BEFORE)
        X: =12
        Y: =703
        ZIndex: =19

    Label9_29 As label:
        Align: =Align.Center
        Color: =RGBA(184, 0, 0, 1)
        Height: =54
        OnSelect: |+
            =Set(_popup,true);
            
        Text: =savephrase
        Underline: =true
        Width: =433
        X: =496
        Y: =699
        ZIndex: =20

    CompositeColumnChart1_3 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =21

        Title1_3 As label:
            Align: =Align.Center
            Height: =12
            Text: ="Chart Title"
            Visible: =false
            Width: =296
            X: =1056
            Y: =257
            ZIndex: =15

        ColumnChart1_3 As barChart:
            Height: =196
            Items: =ColumnChartSample
            Visible: =false
            Width: =296
            X: =1055
            Y: =270
            ZIndex: =16

        Legend1_3 As legend:
            Height: =39
            ItemColorSet: =ColumnChart1_3.ItemColorSet
            Items: =ColumnChart1_3.SeriesLabels
            Visible: =false
            Width: =237
            X: =1085
            Y: =468
            ZIndex: =17

    Group2_3 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =26

        Rectangle1_13 As rectangle:
            Fill: |-
                =ColorValue("#6a0027")
            Height: =371
            Width: =329
            X: =12
            Y: =89
            ZIndex: =10

        Label9_3 As label:
            Color: =RGBA(255, 255, 255, 1)
            Height: =302
            Text: |-
                =Switch(SelectedLevel,
                
                "No Interaction",If(lang="En","NO INTERACTION:
                
                Please, first select organisations with whom you do not have any interaction at all, including no formal communication, no providing of information, etc. ","Aucune interaction:
                
                Veuillez d’abord sélectionner les organismes avec lesquels vous n’avez aucune interaction, y compris aucune communication officielle, aucun échange d’information, et ainsi de suite. "),
                "Networking",If(lang="En","NETWORKING:
                
                Stakeholders who are networking are aware of each other, loosely defined roles or relationship. Have little communication and no shared decision-making.
                
                Please, select the organizations you are networking with from the list and click Next button.","Réseautage:
                
                Les intervenants qui sont en réseau se connaissent, et ils définissent vaguement leurs rôles ou leurs relations. 
                Ils communiquent peu et ne prennent pas de décisions en commun.
                
                Veuillez sélectionner les organismes de la liste avec lesquels vous faites du réseautage et cliquer sur le bouton Suivant."),
                "Cooperation",If(lang="En","COOPERATION:
                
                Stakeholders who cooperate with each other provide information but do not share resources, somewhat define roles or relationship. They have formal communication and no shared decision-making.
                
                Please select the organizations you cooperate with from the list and click Next button.","Coopération:
                
                Les intervenants qui collaborent les uns avec les autres s’échangent de l’information, mais ne partagent pas les ressources, et définissent en gros les rôles ou les relations. 
                Ils communiquent officiellement et ne prennent pas de décisions en commun.
                
                Veuillez sélectionner les organismes de la liste avec lesquels vous collaborez et cliquer sur le bouton Suivant."),
                "Coordination",If(lang="En","COORDINATION:
                
                Stakeholders who coordinate with each other also share information and resources. They have defined roles or relationship, frequently communicate and have some shared decision-making.
                
                Please, select the organizations you coordinate with from the list and click Next button.","Coordination:
                
                Les intervenants qui se coordonnent entre eux échangent également de l’information et des ressources. 
                Ils ont des rôles ou des relations définis, communiquent fréquemment et prennent des décisions en commun.
                
                Veuillez sélectionner les organismes de la liste avec lesquels vous coordonnez et cliquer sur le bouton Suivant."),
                "Coalition",If(lang="En","COALITION:
                
                Stakeholders who are in coalition with each other share ideas, resources AND have frequent and prioritized communication. All the coalition members have a vote in a decision. 
                
                Please, select the organizations you have a coalition with from the list and click Next button. ","Coalition:
                
                Les intervenants qui sont en coalition les uns avec les autres échangent des idées et des ressources ET ont des communications fréquentes et prioritaires.
                Tous les membres d’une coalition votent quand une décision est prise.
                
                Veuillez sélectionner les organismes de la liste avec lesquels vous formez une coalition et cliquez sur le bouton Suivant."),
                 If(lang="En","COLLABORATION:
                 
                Stakeholders who collaborate with each other are usually the members of one system. Their frequent communication is characterized by mutual trust. They reach consensus on all decisions.
                
                Please, select the organizations you collaborate with from the list and click Next button.","Collaboration:
                
                Les intervenants qui collaborent entre eux sont habituellement membres d’un même réseau. 
                Leurs communications fréquentes sont caractérisées par la confiance mutuelle. Ils arrivent à un consensus sur toutes les décisions.
                
                Veuillez sélectionner les organismes de la liste avec lesquels vous collaborez et cliquer sur le bouton Suivant."))
            Width: =313
            X: =20
            Y: =125
            ZIndex: =11

        Image1_9 As image:
            Height: =62
            Image: =ideas
            Width: =67
            X: =13
            Y: =112
            ZIndex: =12

    Label9_34 As label:
        Align: =Align.Center
        Height: =150
        Text: |-
            =If(lang="En","You have no stakeholder organizations available for selection. 
            
            If you believe some stakeholders fall more under this interaction category, kindly deselect from your earlier selections","Vous n’avez aucun organisme d’intervenants disponible parmi les choix. 
            
            Si vous estimez que certains intervenants relèvent davantage de cette catégorie d’interaction, veuillez les désélectionner de vos choix précédents.")
        Visible: =If(Networking_7.AllItemsCount=0,true,false)
        Width: =1015
        X: =351
        Y: =290
        ZIndex: =29

    Group9_2 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =29

        blank_15 As rectangle:
            Fill: =RGBA(255, 255, 255, 0.9)
            Height: =768
            Visible: =_popup
            Width: =1366
            ZIndex: =21

        Rectangle2_16 As rectangle:
            BorderColor: =RGBA(219, 219, 219, 1)
            BorderThickness: =1
            Fill: =RGBA(255, 255, 255, 1)
            Height: =303
            Visible: =_popup
            Width: =541
            X: =411
            Y: =195
            ZIndex: =22

        Button4_32 As button:
            Fill: =RGBA(184, 0, 0, 1)
            OnSelect: |-
                =
                Set(_loader,true);
                
                //Questionnaire Update
                
                ClearCollect(QDB,Filter(SNP_QuestionDatabase,Organization=myOrganization));
                
                ClearCollect(db2,ForAll(galsectionII.AllItems,{Organization: myOrganization, Title: _question.Text, AnswerIndex1: drpchanges.Selected.Value, AnswerIndex2: drpcontributions.Selected.Value}));
                
                ClearCollect(db3,ForAll(galsectionIII.AllItems,{Organization: myOrganization, Title: quest.Text, AnswerIndex1: radoption.Selected.Response, AnswerIndex2:""}));
                
                ClearCollect(db4,ForAll(galsectionIV.AllItems,{Organization: myOrganization, Title: quess.Text, AnswerIndex1: drpKP.Selected.Value, AnswerIndex2: ""}));
                ClearCollect(db5,ForAll(galsectionII_1.AllItems,{Organization: myOrganization, Title: _question_1.Text, AnswerIndex1: drpchanges_1.Selected.Value, AnswerIndex2: drpcontributions_1.Selected.Value}));
                ClearCollect(finaldbs,db2,db3,db4,db5);
                
                If(CountRows(QDB)=0,
                Patch(SNP_QuestionDatabase,finaldbs),
                Patch(SNP_QuestionDatabase,ForAll(galfinaldbs.AllItems,{ID:LookUp(QDB,Title=lblQuestion.Text,ID),AnswerIndex1:lblAnswerIndex1.Text,AnswerIndex2:lblAnswerIndex2.Text})));
                
                // Mapping DB Update
                
                ClearCollect(FinalCollection,SelectedCurrentItems,SelectedItems);
                ClearCollect(MapDB,Filter(S1_SNP,Organization=myOrganization));
                
                If(CountRows(MapDB)=0,
                Patch(S1_SNP,FinalCollection),
                Patch(S1_SNP,ForAll(galfinalMapDB.AllItems,{ID:LookUp(MapDB,UniqueConcat=lblPhase.Text&lblShortName.Text,ID), GalleryName:lblInteraction.Text})));
                
                
                
                //SNP Master Update
                
                Set(_lookupReecord,LookUp(SNP_Master,Title=myOrganization));
                
                If(IsBlank(_lookupReecord),
                
                Patch(SNP_Master,Defaults(SNP_Master),
                {Title:myOrganization,Status:{Value:"Draft"},Last_Page:_currentPage}); ,
                
                Patch(SNP_Master,_lookupReecord,{Last_Page:_currentPage}) );
                
                ClearCollect(Master,SNP_Master);
                Set(_loader,false);
                Navigate(Landing,ScreenTransition.Fade);
                Exit()
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =10
            Text: =yesText
            Visible: =_popup
            X: =514
            Y: =378
            ZIndex: =23

        Button4_31 As button:
            Fill: =RGBA(184, 0, 0, 1)
            OnSelect: =Set(_popup,false)
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =10
            Text: =cancelText
            Visible: =_popup
            X: =705
            Y: =378
            ZIndex: =24

        Label5_30 As label:
            Align: =Align.Center
            Height: =109
            Size: =12
            Text: =confirmationmsg
            Visible: =_popup
            Width: =525
            X: =420
            Y: =269
            ZIndex: =25

        Icon4_15 As icon.Cancel:
            Color: =RGBA(102, 102, 102, 1)
            Height: =29
            Icon: =Icon.Cancel
            OnSelect: =Set(_popup,false)
            Visible: =_popup
            Width: =32
            X: =893
            Y: =247
            ZIndex: =26

        Label5_31 As label:
            Align: =Align.Center
            Color: =RGBA(184, 0, 0, 1)
            Height: =46
            Size: =8
            Text: =worryText
            Visible: =_popup
            Width: =494
            X: =428
            Y: =427
            ZIndex: =27

        Image3_2 As image:
            Height: =80
            Image: ='Spinner-1s-200px'
            Visible: =_loader
            Width: =64
            X: =432
            Y: =360
            ZIndex: =28

    HtmlText1 As htmlViewer:
        Height: =50
        HtmlText: |-
            =If(lang="En","Level of Interaction  <b><font color=#6a0027>before MAMP</font></b> for ","Niveau d’interaction <b><font color=#6a0027>avant le PGAM</font></b> pour") & myOrganizationLong 
        Size: =14
        Width: =1061
        X: =13
        Y: =21
        ZIndex: =30

