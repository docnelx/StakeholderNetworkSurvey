AFTER_EN_Coordination As screen:
    BackgroundImage: =
    Fill: =RGBA(237, 237, 237, 1)
    OnHidden: |-
        =Patch(colTimeRecorder, Last(colTimeRecorder), {End: Now()});
    OnVisible: |-
        =Set(SelectedLevel,"Coordination");
        Set(SelectedPhase,"After");Set(_currentPage,"AFTER_EN_Coordination");
        Set(_popup,false);Collect(colTimeRecorder,{Page: Self.Name,Start:Now(),End: ""});

    Rectangle5_38 As rectangle:
        Fill: =RGBA(255, 255, 255, 0.9)
        Height: =608
        Width: =1366
        Y: =82
        ZIndex: =1

    Rectangle5_60 As rectangle:
        Fill: =RGBA(237, 237, 237, 1)
        Height: =86
        Width: =1366
        Y: =682
        ZIndex: =2

    Rectangle5_37 As rectangle:
        Fill: =RGBA(255, 255, 255, 1)
        Height: =79
        Width: =1366
        Y: =96
        ZIndex: =4

    drpPhase_18 As dropdown:
        Height: =38
        Items: =["Before","Current"]
        Visible: =truevisible
        Width: =77
        X: =1288
        Y: =71
        ZIndex: =7

    Image4_29 As image:
        Height: =50
        Image: =logo
        OnSelect: =Navigate(Welcome_EN,ScreenTransition.Fade)
        Width: =175
        X: =1177
        Y: =21
        ZIndex: =8

    Networking_16 As gallery.variableTemplateHeightGallery:
        BorderColor: =RGBA(0, 0, 0, 0)
        DelayItemLoading: =true
        Height: =570
        Items: |+
            =Filter(
            
            Filter(
            
            Sort(Ungroup(Table({MyTables: Filter(PartnersList,Not(ShortName in SelectedCurrentItems.ShortName))},
            
            {MyTables:Filter(PartnersList, ShortName in Filter(SelectedCurrentItems,GalleryName =SelectedLevel).ShortName)}), "MyTables"),ShortName,SortOrder.Ascending),ShortName<>myOrganization),Not(IsBlank(ShortName)))
            
            
            
        Layout: =Layout.Vertical
        LoadingSpinner: =LoadingSpinner.Data
        ShowScrollbar: =false
        TemplateFill: =If(ThisItem.IsSelected,   RGBA(255, 195, 15, .2), RGBA(231, 231, 231, 1))
        TemplateSize: =102
        Width: =1001
        X: =350
        Y: =97
        ZIndex: =9

        Title3_53 As label:
            AutoHeight: =true
            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
            Height: =61
            OnSelect: =Select(Parent)
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =13
            Strikethrough: =If(IsEmpty(Filter(SelectedCurrentItems, ShortName = ThisItem.ShortName,Not(GalleryName = SelectedLevel))), false, true)
            Text: =ThisItem.LongName & Char(13) &Char(13)
            VerticalAlign: =VerticalAlign.Top
            Width: =466
            X: =53
            Y: =11
            ZIndex: =4

        CheckboxCanvas2_55 As Checkbox:
            BasePaletteColor: =
            DisplayMode: =DisplayMode.Edit
            FontSize: =0
            Height: =52
            Label: =" "
            OnCheck: |-
                =
                Set(selectedGalleryName,SelectedLevel);
                Collect(SelectedCurrentItems, [{Organization: myOrganization,Phase:SelectedPhase, ShortName:ThisItem.ShortName,GalleryName:selectedGalleryName, Concat:selectedGalleryName&ThisItem.ShortName}])
            OnSelect: =Select(Parent)
            OnUncheck: =RemoveIf(SelectedCurrentItems, ShortName = ThisItem.ShortName)
            Visible: =If(IsEmpty(Filter(SelectedCurrentItems, ShortName = ThisItem.ShortName)), true, false)
            Width: =49
            X: =4
            Y: =0
            ZIndex: =5

        Checkbox1_12 As checkbox:
            BorderColor: =RGBA(0, 0, 0, 0)
            Default: =
            Height: =47
            OnCheck: |-
                =
                
                Collect(SelectedCurrentItems, [{Organization: myOrganization,Phase:drpPhase_18.Selected.Value, ShortName:ThisItem.ShortName,GalleryName:SelectedLevel, Concat:SelectedLevel&ThisItem.ShortName}])
            OnUncheck: =RemoveIf(SelectedCurrentItems, ShortName = ThisItem.ShortName)
            Text: =""
            Visible: |-
                =false
                //If(IsEmpty(Filter(SelectedItems, ShortName = ThisItem.ShortName)), true, false)
            Width: =49
            X: =4
            Y: =5
            ZIndex: =7

        Title3_67 As label:
            FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
            Height: =34
            OnSelect: |-
                =
                Collect(SelectedItems, [{Organization: myOrganization,Phase:SelectedPhase, ShortName:ThisItem.ShortName,GalleryName:SelectedLevel, Concat:SelectedLevel&ThisItem.ShortName}])
            PaddingBottom: =0
            PaddingLeft: =0
            PaddingRight: =0
            PaddingTop: =0
            Size: =13
            Strikethrough: =//If(IsEmpty(Filter(SelectedItems, ShortName = ThisItem.ShortName,Not(GalleryName = SelectedLevel))), false, true)
            Text: =ThisItem.ShortName & Char(13) &Char(13)
            VerticalAlign: =VerticalAlign.Top
            Width: =128
            X: =520
            Y: =10
            ZIndex: =8

        Checkbox1_23 As checkbox:
            BorderColor: =RGBA(0, 0, 0, 0)
            Default: =If(CountRows(Filter(SelectedCurrentItems,ShortName=ThisItem.ShortName))>0,true,false)
            Height: =52
            OnCheck: |-
                =
                Set(selectedGalleryName,SelectedLevel);
                Collect(SelectedCurrentItems, [{Organization: myOrganization,Phase:SelectedPhase, ShortName:ThisItem.ShortName,GalleryName:selectedGalleryName, Concat:selectedGalleryName&ThisItem.ShortName}])
            OnUncheck: =RemoveIf(SelectedCurrentItems, ShortName = ThisItem.ShortName)
            Text: =""
            Visible: |-
                =true
                //If(IsEmpty(Filter(SelectedItems, ShortName = ThisItem.ShortName)), true, false)
            Width: =38
            ZIndex: =9

    Arrow2_19 As arrow:
        Fill: =RGBA(184, 0, 0, 1)
        OnSelect: =Navigate(AFTER_EN_Cooperation,ScreenTransition.Fade)
        X: =1301
        Y: =703
        ZIndex: =18

    Arrow1_20 As arrow.backArrow:
        Fill: =RGBA(184, 0, 0, 1)
        OnSelect: =Navigate(AFTER_EN_Coalition)
        X: =12
        Y: =703
        ZIndex: =19

    CompositeColumnChart1_12 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =21

        Title1_12 As label:
            Align: =Align.Center
            Height: =12
            Text: ="Chart Title"
            Visible: =false
            Width: =296
            X: =1056
            Y: =257
            ZIndex: =15

        ColumnChart1_12 As barChart:
            Height: =196
            Items: =ColumnChartSample
            Visible: =false
            Width: =296
            X: =1055
            Y: =270
            ZIndex: =16

        Legend1_12 As legend:
            Height: =39
            ItemColorSet: =ColumnChart1_12.ItemColorSet
            Items: =ColumnChart1_12.SeriesLabels
            Visible: =false
            Width: =237
            X: =1085
            Y: =468
            ZIndex: =17

    Group2_12 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =26

        Rectangle1_31 As rectangle:
            Fill: =RGBA(112, 81, 3, 1)
            Height: =366
            Width: =329
            X: =12
            Y: =96
            ZIndex: =10

        Label9_12 As label:
            Color: =RGBA(255, 255, 255, 1)
            Height: =298
            Text: |-
                ="COORDINATION:
                
                Stakeholders who coordinate with each other also share information and resources. They have defined roles or relationships, frequently communicate, and have some shared decision-making.
                
                Please select the organizations you coordinate with from the list and click the Next button."
            Width: =313
            X: =20
            Y: =157
            ZIndex: =11

        Image1_18 As image:
            Height: =61
            Image: =ideas
            Width: =67
            X: =13
            Y: =119
            ZIndex: =12

    Label9_23 As label:
        Align: =Align.Right
        Color: =RGBA(184, 0, 0, 1)
        Height: =50
        OnSelect: |+
            =Set(_popup,true);
            
        Text: ="Save and exit to continue later"
        Underline: =true
        Width: =263
        X: =552
        Y: =703
        ZIndex: =28

    Label9_32 As label:
        Align: =Align.Center
        Height: =150
        Text: |-
            ="You have no stakeholder organizations available for selection. 
            
            If you believe some stakeholders fall more under this interaction category, kindly deselect from your earlier selections"
        Visible: =If(Networking_16.AllItemsCount=0,true,false)
        Width: =1015
        X: =351
        Y: =290
        ZIndex: =37

    Group9_11 As group:
        Height: =5
        Width: =5
        X: =40
        Y: =40
        ZIndex: =37

        blank_24 As rectangle:
            Fill: =RGBA(255, 255, 255, 0.9)
            Height: =768
            Visible: =_popup
            Width: =1366
            ZIndex: =29

        Rectangle2_25 As rectangle:
            BorderColor: =RGBA(219, 219, 219, 1)
            BorderThickness: =1
            Fill: =RGBA(255, 255, 255, 1)
            Height: =303
            Visible: =_popup
            Width: =541
            X: =411
            Y: =195
            ZIndex: =30

        Button4_50 As button:
            Fill: =RGBA(184, 0, 0, 1)
            OnSelect: |-
                =
                Set(_loader,true);
                
                //Questionnaire Update
                
                ClearCollect(QDB,Filter(SNP_QuestionDatabase,Organization=myOrganization));
                
                ClearCollect(db2,ForAll(galsectionII.AllItems,{Organization: myOrganization, Title: _question.Text, AnswerIndex1: drpchanges.Selected.Value, AnswerIndex2: drpcontributions.Selected.Value}));
                
                ClearCollect(db3,ForAll(galsectionIII.AllItems,{Organization: myOrganization, Title: quest.Text, AnswerIndex1: radoption.Selected.Response, AnswerIndex2:""}));
                
                ClearCollect(db4,ForAll(galsectionIV.AllItems,{Organization: myOrganization, Title: quess.Text, AnswerIndex1: drpKP.Selected.Value, AnswerIndex2: ""}));
                ClearCollect(db5,ForAll(galsectionII_1.AllItems,{Organization: myOrganization, Title: _question_1.Text, AnswerIndex1: drpchanges_1.Selected.Value, AnswerIndex2: drpcontributions_1.Selected.Value}));
                ClearCollect(finaldbs,db2,db3,db4,db5);
                
                If(CountRows(QDB)=0,
                Patch(SNP_QuestionDatabase,finaldbs),
                RemoveIf(SNP_QuestionDatabase,Organization=myOrganization);
                Patch(SNP_QuestionDatabase,finaldbs);
                
                );
                
                // Mapping DB Update
                
                ClearCollect(FinalCollection,SelectedCurrentItems,SelectedItems);
                ClearCollect(MapDB,Filter(S1_SNP,Organization=myOrganization));
                
                If(
                CountRows(MapDB)=0,
                Patch(S1_SNP,FinalCollection),
                
                RemoveIf(S1_SNP,Organization=myOrganization);
                Patch(S1_SNP,FinalCollection);
                
                );
                
                
                
                //SNP Master Update
                
                Set(_lookupReecord,LookUp(SNP_Master,Title=myOrganization));
                
                If(IsBlank(_lookupReecord),
                
                Patch(SNP_Master,Defaults(SNP_Master),
                {Title:myOrganization,Status:{Value:"Draft"},Last_Page:_currentPage}); ,
                
                Patch(SNP_Master,_lookupReecord,{Last_Page:_currentPage}) );
                
                ClearCollect(Master,SNP_Master);
                Set(_loader,false);
                Navigate(Landing,ScreenTransition.Fade);
                Exit()
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =10
            Text: ="Yes, Save & Exit"
            Visible: =_popup
            X: =514
            Y: =378
            ZIndex: =31

        Button4_49 As button:
            Fill: =RGBA(184, 0, 0, 1)
            OnSelect: =Set(_popup,false)
            RadiusBottomLeft: =0
            RadiusBottomRight: =0
            RadiusTopLeft: =0
            RadiusTopRight: =0
            Size: =10
            Text: ="Cancel"
            Visible: =_popup
            X: =705
            Y: =378
            ZIndex: =32

        Label5_48 As label:
            Align: =Align.Center
            Height: =109
            Size: =12
            Text: ="Are you sure you want to save your current status and exit from this survey? "
            Visible: =_popup
            Width: =525
            X: =420
            Y: =269
            ZIndex: =33

        Icon4_24 As icon.Cancel:
            Color: =RGBA(102, 102, 102, 1)
            Height: =29
            Icon: =Icon.Cancel
            OnSelect: =Set(_popup,false)
            Visible: =_popup
            Width: =32
            X: =893
            Y: =247
            ZIndex: =34

        Label5_49 As label:
            Align: =Align.Center
            Color: =RGBA(184, 0, 0, 1)
            Height: =46
            Size: =8
            Text: ="* Do not worry, the survey would save your progress and restart from this page upon resumption"
            Visible: =_popup
            Width: =494
            X: =428
            Y: =427
            ZIndex: =35

        Image3_11 As image:
            Height: =80
            Image: ='Spinner-1s-200px'
            Visible: =_loader
            Width: =64
            X: =432
            Y: =360
            ZIndex: =36

    HtmlText1_9 As htmlViewer:
        Height: =50
        HtmlText: ="Level of interaction  <b><font color=wine>currently</font></b> for " & myOrganizationLong 
        Size: =14
        Width: =1061
        X: =12
        Y: =21
        ZIndex: =38

